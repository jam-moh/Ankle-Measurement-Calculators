<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Seated Calf Strength Estimator (PeakForce HHD Model)</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Arial, sans-serif;
  margin: 20px;
  background-color: #f5f5f5;
}

h1 {
  text-align: center;
  font-size: 1.6em;
}

.container {
  max-width: 500px;
  margin: auto;
  background: white;
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0px 0px 10px rgba(0,0,0,0.1);
}

label {
  display: block;
  margin-top: 10px;
  font-weight: bold;
}

input, select, button {
  width: 100%;
  padding: 10px;
  margin-top: 5px;
  border-radius: 4px;
  border: 1px solid #ccc;
  box-sizing: border-box;
}

button {
  background-color: #007BFF;
  color: white;
  font-weight: bold;
  border: none;
  cursor: pointer;
}

button:hover {
  background-color: #0056b3;
}

.result {
  margin-top: 20px;
  padding: 15px;
  background-color: #e9ecef;
  border-radius: 4px;
}

.green { color: green; font-weight: bold; }
.yellow { color: #b58900; font-weight: bold; }
.red { color: red; font-weight: bold; }

/* üîπ Navigation buttons (FINAL, UNIFORM) */
.nav-buttons {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-bottom: 20px;
  max-width: 300px;
  width: fit-content;
}

.nav-btn {
  padding: 12px 18px;
  font-size: 1rem;
  font-weight: 600;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  text-align: left;
  background-color: #2563eb;
  color: white;
}

.nav-btn.secondary {
  background-color: #6c757d;
}

.nav-btn:hover {
  opacity: 0.9;
}

@media (max-width: 600px) {
  .container {
    width: 90%;
    padding: 15px;
  }
}
</style>
</head>

<body>

<div class="nav-buttons">
  <button class="nav-btn"
    onclick="window.location.href='https://jam-moh.github.io/Ankle-Measurement-Calculators/'">
    ‚Üê Return to Landing Page
  </button>

  <button id="suiteBtn" class="nav-btn secondary" style="display:none;">
    ‚Üê Return to Suite-2
  </button>
</div>

<div class="container">
<h1>Seated Calf Strength Estimator (PeakForce HHD Model)</h1>

<label for="age">Age (years):</label>
<input type="number" id="age" value="50">

<label for="weight">Weight (lbs):</label>
<input type="number" id="weight" value="155">

<label for="gender">Gender:</label>
<select id="gender">
  <option value="female">Female</option>
  <option value="male">Male</option>
</select>

<label for="side">Ankle Side:</label>
<select id="side">
  <option value="left">Left</option>
  <option value="right">Right</option>
</select>

<label for="observed">Observed PeakForce (optional, lbs):</label>
<input type="number" id="observed" value="0">

<button onclick="calculateStrength()">Calculate</button>
<button onclick="resetForm()" style="background-color:#6c757d;margin-top:10px;">Reset</button>

<div class="result" id="result"></div>
</div>

<script>
function calculateStrength() {
  const INTERCEPT = 96.200;
  const AGE_COEF = -1.029;
  const AGE_SQ_COEF = -0.02;
  const WEIGHT_COEF = 1.349;
  const SIDE_LEFT = -6.74;
  const GENDER_FEMALE = -27.401;
  const SD_FEMALE = 40;
  const SD_MALE = 51;

  const age = +ageInput.value;
  const weight = +weightInput.value;
  const gender = genderInput.value;
  const side = sideInput.value;
  const observed = +observedInput.value;

  const age_c = age - 42.32;
  const predicted =
    INTERCEPT +
    AGE_COEF * age_c +
    AGE_SQ_COEF * age_c * age_c +
    WEIGHT_COEF * weight +
    (side === "left" ? SIDE_LEFT : 0) +
    (gender === "female" ? GENDER_FEMALE : 0);

  let output = `<strong>Predicted PeakForce:</strong> ${predicted.toFixed(2)} lbs<br>`;

  if (observed > 0) {
    const sd = gender === "female" ? SD_FEMALE : SD_MALE;
    const z = (observed - predicted) / sd;
    const ratio = observed / predicted * 100;

    const color = Math.abs(z) > 2 ? "red" : Math.abs(z) > 1 ? "yellow" : "green";

    output += `
      <strong>Z-score:</strong> <span class="${color}">${z.toFixed(2)}</span><br>
      <strong>Observed / Predicted:</strong> ${ratio.toFixed(1)}%
    `;
  }

  result.innerHTML = output;
}

function resetForm() {
  age.value = 50;
  weight.value = 155;
  gender.value = "female";
  side.value = "left";
  observed.value = 0;
  result.innerHTML = "";
}

/* üîπ Show Suite-2 button only when coming from suite */
const params = new URLSearchParams(window.location.search);
if (params.get("from") === "suite") {
  const btn = document.getElementById("suiteBtn");
  btn.style.display = "block";
  btn.onclick = () =>
    window.location.href = "https://jam-moh.github.io/ankle-calf-suite-2/";
}
</script>

</body>
</html>
